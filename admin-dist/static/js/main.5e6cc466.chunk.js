(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{459:function(e,t,a){e.exports=a(817)},464:function(e,t,a){},817:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(38),l=a.n(o),c=(a(464),a(818)),i=a(840),s=a(839),u=a(841),m=a(843),p=a(830),d=a(844),f=a(842),E=a(833),h=a(834),g=a(835),w=a(847),b=function(e){e.page,e.perPage,e.total,e.setPage;return""},_=function(e){return n.a.createElement(u.a,Object.assign({},e,{exporter:!1,pagination:n.a.createElement(b,null)}),n.a.createElement(m.a,{rowClick:"edit"},n.a.createElement(p.a,{source:"id",sortable:!1}),n.a.createElement(p.a,{source:"name",sortable:!1}),n.a.createElement(p.a,{source:"site_title",sortable:!1})))},P=function(e){return n.a.createElement(d.a,e,n.a.createElement(f.a,null,n.a.createElement(E.a,{source:"id"}),n.a.createElement(h.a,{source:"name",fullWidth:!0}),n.a.createElement(h.a,{source:"site_title",fullWidth:!0}),n.a.createElement(g.a,{source:"site_description",fullWidth:!0}),n.a.createElement(h.a,{source:"site_copyright",fullWidth:!0}),n.a.createElement(h.a,{source:"page_title",fullWidth:!0}),n.a.createElement(g.a,{source:"page_content",fullWidth:!0}),n.a.createElement(h.a,{source:"owner_name",fullWidth:!0}),n.a.createElement(h.a,{source:"owner_email",type:"email",fullWidth:!0}),n.a.createElement(g.a,{source:"owner_address",fullWidth:!0}),n.a.createElement(h.a,{source:"owner_map_url",fullWidth:!0}),n.a.createElement(h.a,{source:"owner_phones",label:"Owner phones (comma separated)",parse:function(e){return e.split(",")},fullWidth:!0}),n.a.createElement(h.a,{source:"owner_whatsapp_phones",label:"Owner whatsapp phones (comma separated)",parse:function(e){return e.split(",")},fullWidth:!0}),n.a.createElement(h.a,{source:"owner_facebook_url",fullWidth:!0}),n.a.createElement(h.a,{source:"owner_twitter_url",fullWidth:!0}),n.a.createElement(h.a,{source:"owner_instagram_url",fullWidth:!0}),n.a.createElement(h.a,{source:"template_dir",fullWidth:!0}),n.a.createElement(h.a,{source:"template_file",fullWidth:!0}),n.a.createElement(h.a,{source:"template_assets",label:"Template assets (comma separated)",parse:function(e){return e.split(",")},fullWidth:!0})))},O=a(837),j=function(e){e.page,e.perPage,e.total,e.setPage;return""},v=function(e){return n.a.createElement(u.a,Object.assign({},e,{exporter:!1,pagination:n.a.createElement(j,null)}),n.a.createElement(m.a,{rowClick:"edit"},n.a.createElement(p.a,{source:"id",sortable:!1}),n.a.createElement(p.a,{source:"username",sortable:!1}),n.a.createElement(p.a,{source:"name",sortable:!1}),n.a.createElement(O.a,{source:"email",sortable:!1})))},y=function(e){return n.a.createElement(d.a,e,n.a.createElement(f.a,null,n.a.createElement(E.a,{source:"id"}),n.a.createElement(h.a,{source:"username"}),n.a.createElement(h.a,{source:"password",type:"password"}),n.a.createElement(h.a,{source:"name"}),n.a.createElement(h.a,{source:"email",type:"email"})))},W=function(e){return n.a.createElement(w.a,e,n.a.createElement(f.a,null,n.a.createElement(h.a,{source:"username"}),n.a.createElement(h.a,{source:"password",type:"password"}),n.a.createElement(h.a,{source:"name"}),n.a.createElement(h.a,{source:"email",type:"email"})))},k=a(845),S=a(838),x=function(e){e.page,e.perPage,e.total,e.setPage;return""},D=function(e){return n.a.createElement(u.a,Object.assign({},e,{exporter:!1,pagination:n.a.createElement(x,null)}),n.a.createElement(m.a,{rowClick:"edit"},n.a.createElement(p.a,{source:"id",sortable:!1}),n.a.createElement(p.a,{source:"category",sortable:!1}),n.a.createElement(p.a,{source:"project_name",sortable:!1})))},F=function(e){return n.a.createElement(d.a,e,n.a.createElement(f.a,null,n.a.createElement(E.a,{source:"id"}),n.a.createElement(h.a,{source:"category",fullWidth:!0}),n.a.createElement(h.a,{source:"project_name",fullWidth:!0}),n.a.createElement(k.a,{source:"pictures",label:"Portfolio picture",accept:"image/*",maxSize:5242880,multiple:!0,placeholder:n.a.createElement("p",null,"Drop some pictures to upload, or click to select one.",n.a.createElement("br",null),"JPEG and PNG are accepted.",n.a.createElement("br",null),"5Mb maximun file size.",n.a.createElement("br",null),"(650 x 350) minimun file width and height.")},n.a.createElement(S.a,{source:"thumbnail_url",title:"title"}))))},I=function(e){return n.a.createElement(w.a,e,n.a.createElement(f.a,null,n.a.createElement(h.a,{source:"category",fullWidth:!0}),n.a.createElement(h.a,{source:"project_name",fullWidth:!0})))},A=a(407),C=a(293),J=a(405);function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(a,!0).forEach(function(t){Object(J.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var z=function(e){return new Promise(function(t,a){var r=new FileReader;r.readAsDataURL(e.rawFile),r.onload=function(){return t(r.result)},r.onerror=a})},U=function(e){return function(t,a,r){if("UPDATE"===t&&"portfolios"===a&&r.data.pictures&&r.data.pictures.length){var n=r.data.pictures.filter(function(e){return!(e.rawFile instanceof File)}),o=r.data.pictures.filter(function(e){return e.rawFile instanceof File});return Promise.all(o.map(z)).then(function(e){return e.map(function(e,t){return{src:e,title:"".concat(o[t].title)}})}).then(function(o){return e(t,a,R({},r,{data:R({},r.data,{pictures:[].concat(Object(C.a)(o),Object(C.a)(n))})}))})}return e(t,a,r)}},B=a(60),G=a.n(B),H=a(80),M=a.n(H),N=a(406),q=a.n(N),L=function(){return n.a.createElement(G.a,null,n.a.createElement(q.a,{title:"Welcome to the OPCMS Rest Docker Admin"}),n.a.createElement(M.a,null))},$=a(224),K=function(e,t){if(e===$.d){var a=t.username,r=t.password,n=new Request("http://localhost:8080/users/login",{method:"POST",body:JSON.stringify({username:a,password:r}),headers:new Headers({"Content-Type":"application/json"})});return localStorage.removeItem("logged_token"),fetch(n).then(function(e){if(200!==e.status)throw new Error(e.statusText);return e.json()}).then(function(e){e.is_logged_in&&localStorage.setItem("logged_token",e.logged_token)})}if(e===$.e)return localStorage.removeItem("logged_token"),Promise.resolve();if(e===$.b){var o=t.status;return 401===o||403===o?(localStorage.removeItem("logged_token"),Promise.reject()):Promise.resolve()}return e===$.a?"logged_token"in localStorage?Promise.resolve():Promise.reject():Promise.reject("Unknown method")},Q=a(426),V=a.n(Q),X=a(427),Y=a.n(X),Z=U(Object(A.a)("http://localhost:8080",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.headers||(t.headers=new Headers({Accept:"application/json"}));var a=localStorage.getItem("logged_token");return t.headers.set("Authorization","".concat(a)),c.a.fetchJson(e,t)})),ee=function(){return n.a.createElement(i.a,{dashboard:L,authProvider:K,dataProvider:Z},n.a.createElement(s.a,{name:"sites",list:_,edit:P,icon:V.a}),n.a.createElement(s.a,{name:"users",list:v,edit:y,create:W,icon:Y.a}),n.a.createElement(s.a,{name:"portfolios",list:D,edit:F,create:I}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[459,1,2]]]);
//# sourceMappingURL=main.5e6cc466.chunk.js.map